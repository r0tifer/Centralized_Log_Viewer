/* log_viewer.css */

/* ─── Global ───────────────────────────────────────────────── */
Screen {
  padding: 1;
  background: black;
  color: white;
}

/* ─── Header & Footer ─────────────────────────────────────── */
Header, Footer {
  background: #222244;
  color: white;
  height: 1;
}

#menu_bar {
  layout: horizontal;
  padding: 0 1;
  background: #1d1d35;
  height: 3;
  align-vertical: middle;
}

#menu_bar Button {
  min-width: 20;
  margin-right: 1;
}

/* ─── Main split: tree | right ────────────────────────────── */
#main {
  layout: horizontal;
  height: 100%;           /* fill full terminal */
}

/* ─── Left sidebar (file tree) ───────────────────────────── */
#left {
  width: auto;            /* shrink‐wrap to #tree */
  min-width: 10;          /* never narrower than 10 */
  max-width: 60;          /* never wider than 60 */
}

/* ─── File tree itself ────────────────────────────────────── */
#tree {
  width: 20;              /* default tree width */
  background: #2f2f2f;
}

/* ─── Right side: filters above log+meta ─────────────────── */
#right {
  layout: grid;
  grid-rows: auto 1fr;      /* let filters size naturally, rest goes to log view */
  width: 1fr;               /* fill remaining width beside tree */
  height: 100%;             /* full height under header/footer */
}

/* ─── Filters panel ───────────────────────────────────────── */
#filters {
  layout: vertical;       /* stack filter rows + checkbox */
  padding: 1;
  background: #1f1f3f;
  align-horizontal: left;
}

/* each filter row (label + input) */
.filter_row {
  layout: horizontal;
  width: 50%;
  min-width: 40;
  height: auto;
  min-height: 3;
  margin-bottom: 1;
  align-vertical: middle;
}

/* the “Regex:” / “Time:” labels */
.f_label {
  width: 10;
  text-align: right;
  padding-right: 1;
}

/* inputs fill the rest of the row */
#regex,
#time,
#severity_select,
#severity_other {
  width: 1fr;             /* fill remaining row width */
  min-height: 3;
  height: auto;
  background: #22283b;
  color: white;
  border: round #00afff;
  padding: 0 1;
}

#filters .severity_row .f_label {
  width: 10;
  text-align: left;
}

/* auto-scroll checkbox sits under the inputs */
#auto_scroll {
  margin-top: 1;
}

/* ─── Log + meta display ──────────────────────────────────── */
#view {
  layout: horizontal;     /* output_scroll | meta side-by-side */
  padding: 1;
  background: #111111;
}

/* ─── Scrollable log pane ─────────────────────────────────── */
#output_scroll {
  layout: vertical;       /* stack its child Static */
  width: 1fr;             /* fill width beside meta */
  height: 100%;           /* fill the grid’s 1fr row */
  border: round green;
  overflow: auto auto;        /* vertical scrollbar when overflowing */
  scrollbar-gutter: stable;   /* keeps the gutter visible at all times   */
  scrollbar-size: 2 3;     /* optional – thinner bar, less intrusion  */
  outline: none;
}

/* inner Static flows content in and is updated via .update() */
#output {
  width: 100%;
  height: 1fr;             /* consume remaining height of #output_scroll */
  overflow: auto auto;     /* ensure keyboard scroll logic triggers */
  color: white;
  padding: 0 1;
}

/* metadata (~30 chars) */
#meta {
  width: 30;              /* fixed sidebar */
  border: round cyan;
  padding: 1;
  color: lightcyan;
}

/* ─── Copy mode ─────────────────────────────────────────────── */
LogViewer.-copy-mode #left,
LogViewer.-copy-mode #filters,
LogViewer.-copy-mode #meta {
  display: none;
}

LogViewer.-copy-mode #view {
  padding: 0;
}

LogViewer.-copy-mode #output_scroll {
  border: none;
  width: 1fr;
}

LogViewer.-copy-mode #output {
  padding: 0 1;
}
